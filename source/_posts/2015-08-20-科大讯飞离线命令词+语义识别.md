---
title: 科大讯飞离线命令词+语义识别
date: 2015-08-20 18:46:11
categories: 语音
tags: [语音]
---

---
转载请说明出处！
作者：[kqw攻城狮](http://kongqw.github.io/about/index.html)
出处：[个人站](http://kongqw.github.io) | [CSDN](http://blog.csdn.net/q4878802/)

---

# 离线命令词+语义识别

意思就是先走离线命令词识别，如果离线命令词识别没有识别到结果，那么就再走语义接口，如果已开通对应场景，则转为语义，如果没有开通对应场景，则将语音转为文字

# 效果图

- **说的话满足本地构建的语法----离线命令词识别**

![效果图](http://img.blog.csdn.net/20150820135122158)

- **说的话离线命令词无法识别，走语义识别并且满足语义场景----将语音转为语义**

![效果图](http://img.blog.csdn.net/20150820135140691)

- **说话既不满足离线命令词识别也不满足语义开通的场景----将语音转为文字**

![效果图](http://img.blog.csdn.net/20150820135152206)

程序和**离线命令词识别**基本一样

**离线命令词识别地址：http://blog.csdn.net/q4878802/article/details/47780485**

只要改一个参数，将识别**引擎改为混合模式**即可


``` java
mAsr.setParameter(SpeechConstant.ENGINE_TYPE, SpeechConstant.TYPE_MIX);
```


因为使用的混合模式，当本地命令词没有识别到结果的时候会走在线语义（语义只有在线），所以，我们**必须要先开通语义服务**

# 程序流程
![流程图](http://img.blog.csdn.net/20150820134211964)

# 最后
1. 如果你直接用我的Demo，我用的是测试版的离线包，只有35天的试用期，而且装机量只有3个，如果大家都用，很可能是不能正常运行的
2. 如果是参考我的demo自己写一个，千万不要忘记替换appid和资源文件。