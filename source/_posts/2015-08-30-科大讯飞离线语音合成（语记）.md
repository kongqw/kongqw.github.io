---
title: 科大讯飞离线语音合成（语记）
date: 2015-08-30 18:14:13
categories: 语音
tags: [语音]
---

---
转载请说明出处！
作者：[kqw攻城狮](http://kongqw.github.io/about/index.html)
出处：[个人站](http://kongqw.github.io) | [CSDN](http://blog.csdn.net/q4878802/)

---

# 离线语音合成（语记）

讯飞的语音合成有三种方式

1. 在线语音合成（免费）
2. 离线使用语记语音合成（免费，需要本地装一个语记App并且下载离线资源）
3. 使用讯飞离线语音包（付费）

**这里使用语记实现离线语音合成**

# 效果图
![效果图](http://img.blog.csdn.net/20150830135809695)

# 源码

[下载地址（Android Studio工程）：http://download.csdn.net/detail/q4878802/9063593](http://download.csdn.net/detail/q4878802/9063593)

# 说明

使用**语记**实现离线语音合成和在线语音合成的步骤非常相似，下载SDK的方式是一样的，一样是选择**在线语音合成**，只不过是使用**离线引擎**就可以借用语音合成语音了。 

[在线语音合成地址：http://blog.csdn.net/q4878802/article/details/48092495](http://blog.csdn.net/q4878802/article/details/48092495)


**下面说说和在线语音合成不用的地方**

## 1. 下载并安装语记，下载离线资源

离线语音听写的文章里有介绍，[地址： http://blog.csdn.net/q4878802/article/details/47834601](离线语音听写)

## 2. 网络权限就可以删掉了，本地合成不需要联网，但是获取网络状态的权限一定要有。


``` java
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

## 3.  将识别引擎改为本地引擎

``` java
// 引擎类型 本地
mTts.setParameter(SpeechConstant.ENGINE_TYPE, SpeechConstant.TYPE_LOCAL);
```

## 4. 在Application初始化的类里把引擎模式设置的参数注释掉

``` java
// param.append(",");
// param.append(SpeechConstant.ENGINE_MODE + "=" + SpeechConstant.MODE_MSC);
```



**SpeechConstant.MODE_MSC 参数意思是使用离线包资源，如果离线包资源找不到会走网络识别，如果设置这种模式是不会使用语记（语音+）的**如果使用离线包，就需要这条参数。